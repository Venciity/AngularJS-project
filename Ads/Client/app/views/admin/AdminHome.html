<div ng-include="'partials/header.html'"></div>
<div>
    <div class="col-lg-2">
        <div class="navigation">
            <h4>Navigation</h4>
            <ul class="nav nav-pills nav-stacked">
                <li class="active"><a href="#/admin/home">Ads</a></li>
                <li class="active"><a href="#/admin/users/list">Users</a></li>
                <li class="active"><a href="#/admin/categories/list">Categories</a></li>
                <li class="active"><a href="">Towns</a></li>
            </ul>
        </div>
        <div class="adsNavigation">
            <h4>Ads</h4>
            <ul class="nav nav-pills nav-stacked">
                <li class="active" ng-click="getAllAds()"><a href="">All</a></li>
                <li class="active"><a href="" ng-click="getAdsByStatus('Published')">Published</a></li>
                <li class="active"><a href="" ng-click="getAdsByStatus('WaitingApproval')">Waiting Approval</a></li>
                <li class="active"><a href="" ng-click="getAdsByStatus('Inactive')">Inactive</a></li>
                <li class="active"><a href="" ng-click="getAdsByStatus('Rejected')">Rejected</a></li>
            </ul>
        </div>
    </div>
    <div class="col-lg-8" >
        <div ng-repeat="ad in ads" class="ad">
            <div class="row">
                <div class="col-md-6">
                    <h4>{{ ad.title }}</h4>
                </div>
                <div class="col-md-6 pull-right">
                    <h5 class="pull-right">{{ ad.date | date : 'mediumDate' }}</h5>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="image-container">
                        <img src="{{ ad.imageDataUrl }}" alt="Missing image"/>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            {{ ad.text }}
                        </div>
                    </div>
                    <div class="well bs-component">
                        <form class="form-horizontal">
                            <fieldset>
                                <div class="form-group">
                                    <label class="col-lg-2 labelSpecial">Username: </label>
                                    <div class="col-lg-10">
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                {{ ad.ownerUsername }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 labelSpecial">Name: </label>
                                    <div class="col-lg-10">
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                {{ ad.ownerName }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 labelSpecial">Email: </label>
                                    <div class="col-lg-10">
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                {{ ad.ownerEmail }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 labelSpecial">Tel: </label>
                                    <div class="col-lg-10">
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                {{ ad.ownerPhone }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 labelSpecial">Category: </label>
                                    <div class="col-lg-10">
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                {{ ad.categoryName }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 labelSpecial">Town: </label>
                                    <div class="col-lg-10">
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                {{ ad.townName }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 labelSpecial">Status: </label>
                                    <div class="col-lg-10">
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                {{ ad.status }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3 text-center">
                    <div class="btn btn-success" ng-click="approveAd(ad.id)">Approve</div>
                </div>
                <div class="col-md-3 text-center">
                    <div class="btn btn-warning" ng-click="rejectAd(ad.id)">Reject</div>
                </div>
                <div class="col-md-3 text-center">
                    <div class="btn btn-default" ng-click="editAd(ad.id)">Edit</div>
                </div>
                <div class="col-md-3 text-center">
                    <div class="btn btn-danger" ng-click="deleteAd(ad.id)">Delete</div>
                </div>
            </div>
        </div>
        <div class="text-center">
            <pagination total-items="bigTotalItems" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-links="true" rotate="false" num-pages="numPages" ng-click="setPage(bigCurrentPage)"></pagination>
        </div>
    </div>
    <div class="col-lg-2">
        <div class="categories">
            <h4>Categories</h4>
            <ul class="nav nav-pills nav-stacked">
                <li class="active" ng-click="getAllAds()"><a href="">All</a></li>
                <li class="active" ng-repeat="category in categories" ng-click="getAdsByCategoryId(category.id)"><a href="">{{ category.name }}</a></li>
            </ul>
        </div>
        <div class="towns">
            <h4>Towns</h4>
            <ul class="nav nav-pills nav-stacked">
                <li class="active" ng-click="getAllAds()"><a href="">All</a></li> <!-- TODO: EDIT get all ads + filter by current category select -->
                <li class="active" ng-repeat="town in towns" ng-click="getAdsByTownId(town.id)"><a href="">{{ town.name }}</a></li>
            </ul>
        </div>
    </div>
</div>